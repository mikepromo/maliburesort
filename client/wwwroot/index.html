<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>client</title>
    <base href="/"/>
    <link href="css/app.css" rel="stylesheet"/>
</head>

<body>
<div id="app">
    <div style="background-color: #000; color: #ffb600; font-family: Arial, sans-serif; height: 100vh; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 18px;">
        INITIALIZING...
    </div>
</div>

<div id="blazor-error-ui">
    <div style="color: #ffb600; background: #000; padding: 20px; border: 1px solid #ffb600; display: inline-block;">
        [FATAL EXCEPTION] CLIENT SYSTEM HALTED. MEMORY CORRUPTED.
        <br/><br/>
        <a href="#" onclick="rebootSystem(); return false;"
           style="color: #ffb600; text-decoration: underline; cursor: pointer;">
            >> PRESS 'R' OR CLICK TO REBOOT SYSTEM
        </a>
    </div>
</div>

<script src="_framework/blazor.webassembly.js"></script>

<script>
    function rebootSystem() {
        window.location.replace(window.location.origin + '/');
    }

    document.addEventListener('keydown', function (e) {
        var errorUi = document.getElementById('blazor-error-ui');

        if (errorUi && window.getComputedStyle(errorUi).display !== 'none') {
            if (e.key.toLowerCase() === 'r') {
                e.preventDefault();
                rebootSystem();
            }
        }
    });
</script>

<script>
    window.getSelectionStart = (el) => el.selectionStart;
</script>

</body>

</html>
